<!doctype html>
<html>
    <head>
        <title> HW7 - API Fun! </title>
        <style>
            body {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            #title {
                justify-content: center;
                align-items: center;
                text-align: center;
                padding-bottom: 20px;
            }
            #fetchButton {
                padding-bottom: 20px;
            }
            #display {
                display: flex;
                flex-direction: column;
                max-width: 500px;
                max-height: 400px;
                justify-content: center;
                align-items: center;
                text-align: center;
                border: 2px solid #000000;
                padding: 0px 20px 0px;
            }
        </style>
    </head>
    <body>
        <div id="title">
            <h1 style="font-size: 40px"> Random Brewery Generator </h1>
            <h2 style="font-size: 24px; font-weight: normal"> Look down below to see information regarding a random brewery. </h2>
        </div>
        <div id="fetchButton"> 
            <button onclick="fetchBrew()" style="font-size: 20px"> Fetch Brewery </button>
        </div>
        <div id="display"> </div>
        <script language = "javascript">
            function fetchBrew() {
                fetch("https://api.openbrewerydb.org/v1/breweries")
                .then (response => response.json())
                .then (data => {
                    i = Math.floor(Math.random() * data.length);
                    display.innerHTML = "<p style='font-size: 30px; text-decoration: underline'>" + data[i].name + "</p>";
                    display.innerHTML += "<p> Address: " + data[i].address_1 + ", " + data[i].city + ", " + data[i].state_province + "</p>";
                    display.innerHTML += "<p> Country: " + data[i].country + "</p>";
                    display.innerHTML += "<p> Website: " + data[i].website_url + "</p>";
                })
                .catch (error => console.log(error));
            }
        </script>
    </body>
</html>